import{B as O,T as R,j as W,b as H,d as Z,p as G,u as J,g as K,a as Q,c as U,l as X,h as tt,e as et,f as nt}from"./app.CODTMDbP.js";import{_ as st}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.D8SbQISh.js";import{a as ot,u as at}from"./animation.BhYQMRfX.js";import{p as k,b as V,P as $,O as c,S as f,V as S,u as e,k as C,M as rt,C as t,$ as o,N as T,a6 as it,R as ct,a3 as lt,F as b,a0 as ut,Z as mt}from"./framework.Cmyt3UYZ.js";import{_ as pt}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.nLwLTp4p.js";import{a as _t,u as ft}from"./chunks/vue-router.8krbs1my.js";import"./chunks/dayjs.BA9YVBT0.js";import{u as gt}from"./chunks/vue-i18n.BVEHcM6n.js";import"./chunks/@vueuse/motion.DIzaWrax.js";import"./chunks/pinia.DKjRsRsw.js";/* empty css                    */import"./chunks/nprogress.BbkQUb46.js";import"./index.BRXJGymZ.js";function yt(m={primary:"#0078E7"}){const a=O(),l=new R("#999999"),r=new R(m.primary);return{tags:a,getTagStyle:n=>{const p=Array.from(a.value).map(([d,h])=>h.count),g=Math.max(...p),s=Math.min(...p),y=g-s,_=(n-s)/y;return{"--yun-tag-color":l.mix(r,_*100).toString(),fontSize:`${_*36+12}px`}}}}const dt={"inline-flex":""},ht={"inline-flex":"",text:"xs"},vt=k({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(m){const a=m,{$t:l}=W(),r=V();return ot(r,{i:a.i||0,delay:25}),(i,n)=>(c(),$("span",{ref_key:"tagRef",ref:r,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[f("span",dt,"#"+S(e(l)(i.title)),1),f("span",ht,"["+S(i.count)+"]",1)],512))}}),xt={class:"yun-text-light",text:"center",p:"2"},Ct={class:"justify-center items-end",flex:"~ wrap",gap:"1"},Nt=k({__name:"tags",setup(m){H([Z({"@type":"CollectionPage"})]);const a=_t(),l=ft(),r=G(),{t:i}=gt(),n=J(),{tags:p,getTagStyle:g}=yt({primary:r.value.colors.primary}),s=C(()=>a.query.tag||""),y=K(),_=C(()=>y.postList.filter(u=>u.tags?typeof u.tags=="string"?u.tags===s.value:u.tags.includes(s.value):!1)),d=V(),{show:h}=at(d);function B(v){l.push({query:{tag:v}}),h()}const A=Q(n),Y=C(()=>Array.from(p.value).sort());return(v,u)=>{const F=U,w=pt,N=vt,L=rt("RouterView"),E=st,I=X,M=tt,j=et,q=nt;return c(),$(b,null,[t(j,null,{default:o(()=>[t(F),t(L,null,{default:o(({Component:z})=>[(c(),T(it(z),null,{"main-header":o(()=>[t(w,{title:e(A)||e(i)("menu.tags"),icon:e(n).icon||"i-ri-tag-line",color:e(n).color,"page-title-class":e(n).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":o(()=>[t(lt,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:o(()=>[f("div",xt,S(e(i)("counter.tags",Y.value.length)),1)]),_:1}),f("div",Ct,[(c(!0),$(b,null,ut(Y.value,([x,P],D)=>(c(),T(N,{key:x,i:D,title:x,count:P.count,style:mt(e(g)(P.count)),onClick:Tt=>B(x.toString())},null,8,["i","title","count","style","onClick"]))),128))]),t(L)]),"main-nav-before":o(()=>[s.value?(c(),T(I,{key:0,ref_key:"collapse",ref:d,m:"t-4",w:"full"},{default:o(()=>[t(w,{title:s.value,icon:"i-ri-hashtag"},null,8,["title"]),t(E,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:_.value},null,8,["posts"])]),_:1},512)):ct("v-if",!0)]),_:2},1024))]),_:1}),t(M)]),_:1}),t(q)],64)}}});export{Nt as default};
